(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{JPHG:function(t,e,n){"use strict";n.r(e),n.d(e,"PortisConnector",(function(){return u}));var r=n("NEbA"),o=n("9R94");function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan",100:"xdai",30:"orchid",31:"orchidTestnet",99:"core",77:"sokol",61:"classic",8:"ubiq",108:"thundercore",18:"thundercoreTestnet",163:"lightstreams",122:"fuse",15001:"maticTestnet"},u=function(t){var e,r;function u(e){var n,r=e.dAppId,i=e.networks,u=e.config,a=void 0===u?{}:u,h=i.map((function(t){return"number"===typeof t?t:Number(t.chainId)}));return h.every((function(t){return!!s[t]}))||Object(o.a)(!1),(n=t.call(this,{supportedChainIds:h})||this).dAppId=r,n.networks=i,n.config=a,n.handleOnLogout=n.handleOnLogout.bind(c(n)),n.handleOnActiveWalletChanged=n.handleOnActiveWalletChanged.bind(c(n)),n.handleOnError=n.handleOnError.bind(c(n)),n}r=t,(e=u).prototype=Object.create(r.prototype),e.prototype.constructor=e,i(e,r);var a=u.prototype;return a.handleOnLogout=function(){this.emitDeactivate()},a.handleOnActiveWalletChanged=function(t){this.emitUpdate({account:t})},a.handleOnError=function(t){this.emitError(t)},a.activate=function(){try{var t=this,e=function(){return t.portis.onLogout(t.handleOnLogout),t.portis.onActiveWalletChanged(t.handleOnActiveWalletChanged),t.portis.onError(t.handleOnError),Promise.resolve(t.portis.provider.enable().then((function(t){return t[0]}))).then((function(e){return{provider:t.portis.provider,account:e}}))},r=function(){if(!t.portis)return Promise.resolve(n.e(21).then(n.t.bind(null,"Ma/z",7)).then((function(t){var e;return null!=(e=null==t?void 0:t.default)?e:t}))).then((function(e){t.portis=new e(t.dAppId,"number"===typeof t.networks[0]?s[t.networks[0]]:t.networks[0],t.config)}))}();return Promise.resolve(r&&r.then?r.then(e):e())}catch(o){return Promise.reject(o)}},a.getProvider=function(){try{return Promise.resolve(this.portis.provider)}catch(t){return Promise.reject(t)}},a.getChainId=function(){try{return Promise.resolve(this.portis.provider.send("eth_chainId"))}catch(t){return Promise.reject(t)}},a.getAccount=function(){try{return Promise.resolve(this.portis.provider.send("eth_accounts").then((function(t){return t[0]})))}catch(t){return Promise.reject(t)}},a.deactivate=function(){this.portis.onLogout((function(){})),this.portis.onActiveWalletChanged((function(){})),this.portis.onError((function(){}))},a.changeNetwork=function(t,e){try{return"number"===typeof t?(s[t]||Object(o.a)(!1),this.portis.changeNetwork(s[t],e),this.emitUpdate({chainId:t})):(this.portis.changeNetwork(t,e),this.emitUpdate({chainId:Number(t.chainId)})),Promise.resolve()}catch(n){return Promise.reject(n)}},a.close=function(){try{var t=this;return Promise.resolve(t.portis.logout()).then((function(){t.emitDeactivate()}))}catch(e){return Promise.reject(e)}},u}(r.a)}}]);